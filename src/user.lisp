(defpackage malaga/user
  (:use :cl)
  (:export #:get-checksum
           #:process-users
           #:delete-old-users
           #:get-list-of-users-from-files
           #:get-list-of-users-from-db
           #:update-user-p))

(in-package malaga/user)

(defun get-checksum (path)
  (let ((digest (ironclad:make-digest :md5)))
    (format nil "窿ㄣ镥蜚ㄩ蝻钽灬浜溟珏篝骈戾溟珏篝疳翳ъ轶舂┅ㄤ彐躅泸遽翦铄鳝躞弪ㄦ殪濠戾è钺礤ㄣ狎灬篝疳翳钺礤溟蝈泗矧骈戾┅┅躅戾篌黹麸烘轭洵溽ы犰徵岑盹溴祗乎箦侯犴钺礤黹麸恒蝈狒瀛溽ы犰徵岑盹溴祗乎箦侯犴钺礤烘殪钺礤篝蜷铉骈戾恒桢汶篚┅┅ㄤ彐躅珏舡扉篝镦躞弪蟓骝镯骈戾ㄣ镱骈绌磲疸狎＇灬礅溽ㄤㄣ狎灬篝疳翳钺礤溟蝈泗矧洎┅ㄦ轭洵汜蜾扉篝磲灬玑泔铈殓轰蝻疴秫祜汜糸镱泔铈殓┅┅ㄤ彐躅珏舡扉篝镦躞弪蟓骝镯溻ī黹麸后屐邈舡溽ы犰徵岑盹溴祗乎箦颟ㄤ彐躅溴戾翦镬洵躞弪ㄣ镱骈绌戾è溻躞弪磲疸狎＇灬礅溽躞弪箪雉鲠祯躞弪ы犰徵岑盹溴祗侯犴濠ㄧ弭扉篝镦躞弪蟓骝镯溻┅ㄦ殪瀛躞弪ㄧ弭扉篝镦躞弪蟓骝镯骈戾泔铈殓┅ㄤ镬轶躞弪钺礤箦舡溟骀弪孱沐溻躞弪骈戾躞弪呼弩＇羼踽飑ㄦ矧磲⒛屐弭轭绾窿ア躞弪钺礤黹麸轰屐弭瀛怡鲠祯弩ы犰徵岑盹溴祗乎箦侯犴躞弪钺礤┅┅ㄤ彐躅躔溽翦躞弪躞弪篝蜷铉箪雉鲠祯躞弪ы犰徵岑盹溴祗恒桢汶篚愆ㄧ弭汨邈塍蹴箪雉鲠祯躞弪ы犰徵岑盹溴祗烘殪濠┅ㄤ彐躅溴戾翦篝犰瀛溽翎ī铋飑ㄤ彐躅泸遽翦泔祆邈糸镱蝈泔蜾ㄣ篥躞弪汜蜾轭溴黹麸恒蝈狒瀛溽ы犰徵岑盹溴祗恒镬戾泗轱乎箦躞弪恒狎汜蜾厚踽铘轸ㄤ狒岘翎忪搴溽翎翎忪瀛鲠祯泱候秣殇轭溴恒镬钺礤Ⅰ踽铘轸┅ㄤ彐躅躔溽翦泔祆邈糸镱蝈泔蜾ㄣ篥泔祆邈糸镱轭溴戾è聃犷糸豉疳蝮瀛轭翦珏ㄤ狒岘翎忪搴溽翎翎忪瀛鲠祯泱候秣殇轭溴恒镬钺礤Ⅰ踽铘轸┅┅箦翩箪雉鲠祯泔祆邈糸镱ы犰徵岑盹溴祗厚踽铘轸聃犷糸豉黹麸后狯瀛溽泔祆邈糸镱┅ㄤ彐躅躔溽翦躞弪躞弪戾舄è疳翳疳翳钺礤箪雉鲠祯躞弪ы犰徵岑盹溴祗烘殪濠┅ㄨ遽溴蝮ㄣ飙泱龊蝈徜泱霏蝻疳翳┅ㄣ篥磲脲轭篝犷沐т狒岘翎忪搴溽翎翎忪恒镬蹴瞽钺礤桢徜弪候秣ㄣ潋ㄣ飙泱龊蝈徜泱疳翳┅┅ㄤ雉轫弩ㄩ钿屮ū戾铉翳ㄤ狒岘翎忪搴蝻黧泱雯┅戾舄è汜蜾黹麸烘轭洵溽ы犰徵岑盹溴祗后泸驷祆汜蜾洪ㄤ狒岘翎忪搴溽翎翎忪瀛鲠祯泱候秣殇轭溴恒镬钺礤Ⅲ泸驷祆唛洧┅ㄣ镬戾泗轱黹麸烘轭洵溽ы犰徵岑盹溴祗恒镬戾泗轱乎箦躞弪恒狎汜蜾┅牢显磲螂翳沲蝌孱溽翦糸礤殒翳泔祆邈糸镱屮轶趔躔溽翦翳聃犷糸豉犷躔溽翦咪狒麸溽翦糸礤殒轸滹弩瞌泸遽翦轸ㄩ泔祆邈糸镱躔溽翦泔祆邈糸镱蝈泔蜾泱泔祆邈糸镱轭溴ㄣ蝈狒瀛泔祆邈糸镱蝈泔蜾泱躞弪汜蜾轭溴┅┅┅ㄤ彐躅骈钿汜蜾扉篝ㄤ蝻疴秫祜汜糸镱祜镳烘矧溟洪ㄤ轵邈麸蝙潋镳怙祜汜糸镱烘矧疳翳痱镡瀛骈戾疳翳钺礤ㄦ矧磲铋怜汜蜾螽泱觫溟颟┅洪疳翳恒镬戾泗疳翳┅ㄤ彐躅痱镢弩蟓躞弪ㄣ镱骈绌ㄤ镬轶躞弪扉篝ㄦ轭洵汜蜾扉篝磲灬玑泔铈殓轰蝻疴秫祜汜糸镱泔铈殓┅腻戾翦犷躞弪轭翳溻麒滹瞌栳鲥骈戾犷盹蝈ㄤ屐弭瀛镬洵躞弪泔铈殓抿遽翦犷铄黛骘躅躞弪ㄣ蝈狒瀛铄鳝躞弪躞弪扉篝震溽翦躞弪戾è躞弪黹麸烘轭洵溽ы犰徵岑盹溴祗乎箦侯犴ㄣ狎灬篝疳翳钺礤溟蝈泗矧躞弪扉篝┅┅┅ㄩ躔溽翦躞弪躞弪躔溽翦躞弪躞弪ㄦ矧磲⑽雉震溽糸铉窿ア箪雉鲠祯躞弪ы犰徵岑盹溴祗侯犴濠┅渺遽铛镬躞弪溽翎牢显藕义礤礅弪麸溴戾翦矧痂犷邃汜蜾狍疳螋镦翳徕秭骢钽糸镱汜祆清翳沲蝌孱溽翦糸礤犷疳篌轸轭麸翳躔溽翦躞弪骢钽糸镱徕秭麸躔溽翦蝻黧腻戾翦犷翳轭遽蜢殄翳犷翳溽翦糸礤ㄤ屐弭瀛篝犰瀛溽翎┅┅